"0","# 2008"
"0","# Visualize gtrends by party over time for each year"
"0","rects = tibble(start = ymd('2008-08-08'), "
"0","                end = ymd('2008-08-24'), "
"0","                y1 = -Inf,"
"0","                y2 = Inf)"
"0","texts = tibble(x = c(ymd('2008-07-04'), ymd('2008-08-24'), "
"0","                     ymd('2008-11-04'), ymd('2008-05-01'),"
"0","                    ymd('2008-09-01'), ymd('2008-01-03'), "
"0","                     ymd('2008-01-08'), ymd('2008-02-05')),"
"0","                lab = c(""July 4th"", ""Olympics"", "
"0","                        ""General election"", ""Primaries"","
"0","                       ""Conventions"", ""IA"", ""NH"","
"0","                       ""Super Tuesday""),"
"0","                hjust = c(1, 1, 1, 1, 1,2,3,1),"
"0","               vjust = c(0,-1,1, 1, 1, 0.5, 0.5, 0.5),"
"0","               angle = c(90,90,90,0, 90, 90, 90, 90)"
"0","              )"
"0","vlines = tibble(xint = c(ymd('2008-07-04'), ymd('2008-11-04'), ymd('2008-09-01'))"
"0","                )"
"0","chart08 <-"
"0","ggplot() +"
"0","#   geom_rect(data = gtrends_08_periods, "
"0","#                  aes(xmin=ymd(grp_3wka_date_min), "
"0","#                      xmax=ymd(grp_3wka_date_min)+20, "
"0","#                      ymin=0, ymax=100, fill=as.character(grp_3wka)), alpha=0.1) +"
"0","  geom_line(data = gtrends_party_salience_08, aes(x = ymd(date), y = dem_salience), color=4) +"
"0","#   geom_smooth(data = gtrends_party_salience_08, aes(x = ymd(date), y = dem_salience), color=4) +"
"0","  geom_line(data = gtrends_party_salience_08, aes(x = ymd(date), y = rep_salience), color=2) +"
"0","#   geom_smooth(data = gtrends_party_salience_08, aes(x = ymd(date), y = rep_salience), color=2) +"
"0","  geom_rect(data = rects, aes(xmin = start, xmax=end, ymin=-Inf, ymax=Inf), "
"0","            fill=""grey80"", alpha=0.5) +"
"0","  geom_vline(data = vlines, aes(xintercept = as.numeric(xint)), color = ""grey80"", size=1.5, alpha=0.5) +"
"0","  geom_vline(data = prim_08_clean, aes(xintercept = as.numeric(mdy(prim_08_clean$date))), color = ""grey60"", size=1.5, alpha=0.25) +"
"0","  geom_text(data=texts, aes(x = x, y=Inf, label = lab, hjust=hjust, vjust=vjust, angle=angle), "
"0","            size=3, alpha=0.7, color=""black"") +"
"0","#   geom_rect(data = elex_cycle_period_08, "
"0","#                  aes(xmin=ymd(xmin), "
"0","#                      xmax=ymd(xmax), "
"0","#                      ymin=0, ymax=100, fill=label), alpha=0.3) +"
"0","#   geom_errorbarh(data = elex_cycle_period_08, "
"0","#                  aes(xmin=ymd(xmin), "
"0","#                      xmax=ymd(xmax), "
"0","#                      x=ymd(xmid), y=0), height=2) +"
"0","  theme_minimal() +"
"0","  theme(panel.background = element_rect(fill = ""white"", colour = ""grey90"")) +"
"0","  theme_ipsum_rc(grid=""XY"") +"
"0","  theme(axis.text.x=element_text(hjust=c(0, 0.5, 0.5, 0.5, 0.5, 0.5)),"
"0","       legend.title = element_blank(),"
"0","       legend.position=""bottom"") +"
"0","  labs(x = """","
"0","      y=""Google search volume"","
"0","      title = ""Google search volume for partisan terms\n  across 2008 election cycle"") +"
"0","  scale_x_date(date_labels = ""%b %Y"")"
